# Обновление статуса АПИ #

Тестовое задание на понимание  и умение работать с laravel и так...

## Установка

Клонировать репозиторий-
```
git clone git@bitbucket.org:ksnk/testing.git
```

```
cd testing
```

```
composer install
```

Изменить настройки в .env, чтобы они указывали на базу данных(`DB_USERNAME`, `DB_PASSWORD`).

## недоделки ##
Then create a database named `todos` and then do a database migration using this command-
```
php artisan migrate
```

Then change permission of storage folder using thins command-
```
(sudo) chmod 777 -R storage
```

At last generate application key, which will be used for password hashing, session and cookie encryption etc.
```
php artisan key:generate
```

## по заданию ##

* Архитектуру следует построить по методологии ООП.
* При реализации задачи стараться использовать возможности фреймворка 

 Вероятно, +
 
* API разных типов можно опрашивать параллельно

 
* Предполагается, что в дальнейшем количество разных API будет увеличиваться, архитектуру следует построить таким образом, чтобы можно было:   
   А) Легко добавить поддержку нового API сервиса, не затрагивая остальные.
   Б) При увеличении числа сервисов код должен сохранять простоту навигации и понимания.
   
   Вся информация об API находится в базе, количество, порядок и имена ENDPOINTS перечислены в поле таблицы. При изменении количества API и endpoints код не меняется.

* Нужно сделать возможность системному администратору в ручную запустить синхронизацию сервиса определенного типа. (У системного администратора есть доступ к ОС, на которой развернуто приложение)

 Штатный запуск обновления идет через artisan, командой doitall. Команда вставлена в шедулер и может запускаться периодически из
 
```
php artisan sheduler:run
```
Сейчас стоит запуск 
```
$schedule->command('doitall')->everyTenMinutes();
```

Возможен запуск на обновление всех api командой
```
php artisan doitall
```
и обновление конкретного API по его индексу
```
php artisan doitall 1
```

* Известно, что в дальнейшем понадобится реализовать возможность модератору в админ панели (С вашей точки зрения из БД) изменять периодичность опроса каждого сервиса.

  Простейшее предлагаемое решение - переопределить порядок и период вызова команд обновления в шедулере, вызывая обновления конкретных API командами артизана.  
   

